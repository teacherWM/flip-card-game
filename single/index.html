<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>英漢翻牌遊戲</title>
    <link rel="stylesheet" href="style.css">
    <!-- 讀取 Excel 用的套件 SheetJS（xlsx） -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <!-- 用來壓縮設定用的套件 LZ-String（縮短網址參數） -->
    <script src="https://cdn.jsdelivr.net/npm/lz-string@1.5.0/libs/lz-string.min.js"></script>
</head>
<body>

<h1>英漢翻牌記憶遊戲</h1>
<div id="modeInfo"></div>

<div id="controls">
    <!-- 老師模式：匯入 Excel -->
    <div class="row admin-only" id="rowFile">
        <label for="fileInput">匯入單字 Excel 檔（A欄英文，B欄中文）：</label>
        <input type="file" id="fileInput" accept=".xlsx,.xls">
    </div>

    <!-- 老師模式：設定時間限制 -->
    <div class="row admin-only" id="rowTime">
        <label for="timeLimitInput">
            時間限制（秒）： 
            <input type="number" id="timeLimitInput" value="300" min="30" max="3600">
        </label>
        <span class="hint">（例如 300 秒 = 5 分鐘）</span>
    </div>

    <!-- 老師 + 學生 都會看到：開始一局、語音開關 -->
    <div class="row">
        <button id="startRoundBtn" disabled>開始新一局（4×4）</button>
        <label class="sound-label">
            <input type="checkbox" id="soundToggle" checked>
            翻牌時唸出文字
        </label>
    </div>

    <!-- 老師模式：產生遊戲連結（用來做 QR） -->
    <div class="row admin-only" id="rowShare">
        <button id="generateLinkBtn">產生遊戲連結（給學生掃 QR）</button>
    </div>

    <div class="row admin-only" id="rowLinkOut">
        <input type="text" id="linkOutput" readonly style="width: 90%;" placeholder="產生的遊戲連結會顯示在這裡">
    </div>

    <div class="row">
        <span id="wordInfo">目前尚未匯入單字</span>
    </div>
</div>

<div id="infoBar">
    剩餘時間：<span id="time">0</span> 秒　
    本局分數：<span id="score">0</span> 分　
    累積總分：<span id="totalScore">0</span> 分
</div>

<div id="gameBoard"></div>

<script src="script.js"></script>
</body>
</html>
